<!doctype html>
<html>
    <head>
            <title>JavaScript Guessing Game</title>
            <meta name="author" content="Canruo Ying">
    </head>
    <body onload="do_game()">
        <script>
            function do_game() {
                var colors = ["Aqua", "Black", "Blue", "Cyan", "Gold", "Green", "Magenta", "Pink", "Red", "Silver", "Violet", "White", "Yellow"];
                var colorIndex = Math.floor(Math.random() * colors.length);
                var targetColor = colors[colorIndex];

                console.log("The correct answer is " + targetColor + ".");
                var numGuesses = guess(colors, targetColor);
                alert("Congratulations! You have guessed the color!\n\nIt took you " + numGuesses + " guesses to finish the game!\n\nYou can see the colour in the background.");

                document.body.style.background = targetColor;
            }

            function guess(colors, targetColor) {
                var numGuesses = 0;
                var guess;

                do {
                    numGuesses++;
                    guess = prompt("I am thinking of one of these colors:\n\n" + colors.join(", ") + "\n\nWhat color am I thinking of?\n\n(Graders: Please see console log for correct answer)");
                } while (!check_guess(colors, targetColor, guess))

                return numGuesses;
            }

            function check_guess(colors, targetColor, guess) {
                if (targetColor.toLowerCase() == guess.toLowerCase()) {
                    return true;
                } else {
                    return false;
                }
            }
        </script>
    </body>
</html>